"use client";

import Image from "next/image";
import { useTheme } from "next-themes";
import { useEffect, useState } from "react";

interface LogoProps {
    className?: string;
    width?: number;
    height?: number;
    theme?: "light" | "dark";
}

export function Logo({ className = "", width = 150, height = 28, theme }: LogoProps) {
    const { resolvedTheme } = useTheme();
    const [mounted, setMounted] = useState(false);

    useEffect(() => {
        setMounted(true);
    }, []);

    // During SSR or before hydration, show a placeholder to prevent flash
    if (!mounted) {
        return <div style={{ width, height }} className={className} />;
    }

    const isDark = (theme || resolvedTheme) === "dark";

    return (
        <Image
            src="/logo.svg"
            alt="VoiceAI Platform"
            width={width}
            height={height}
            className={`${className} ${isDark ? "invert" : ""}`}
            priority
        />
    );
}

export function LogoIcon({ className = "", size = 24 }: { className?: string; size?: number }) {
    return (
        <svg
            viewBox="0 0 37 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            width={size}
            height={size}
            className={className}
        >
            <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M20.0316 7.05615C20.0316 6.15331 19.8214 5.26287 19.4176 4.45534C19.0686 3.75731 18.8637 2.99619 18.815 2.21729L18.6982 0.349945L18.5816 2.21722C18.5328 2.99613 18.3279 3.75728 17.9789 4.45531C17.5752 5.26286 17.3649 6.15333 17.3649 7.05619V33.6437C17.3649 34.5465 17.5752 35.437 17.9789 36.2446C18.3279 36.9426 18.5328 37.7038 18.5816 38.4827L18.6982 40.3499L18.815 38.4826C18.8637 37.7037 19.0686 36.9426 19.4176 36.2445C19.8214 35.437 20.0316 34.5466 20.0316 33.6437V7.05615ZM12.7509 7.122C13.1547 7.92954 13.3649 8.82003 13.3649 9.72286V30.977C13.3649 31.8799 13.1547 32.7704 12.7509 33.5779C12.4019 34.2759 12.197 35.0371 12.1482 35.8159L12.0316 37.6833L11.9149 35.8159C11.8662 35.0371 11.6612 34.2759 11.3122 33.5779C10.9084 32.7704 10.6982 31.8799 10.6982 30.977V9.72286C10.6982 8.82003 10.9084 7.92954 11.3122 7.122C11.6612 6.42397 11.8662 5.66284 11.9149 4.88393L12.0316 3.01662L12.1482 4.88393C12.197 5.66284 12.4019 6.42397 12.7509 7.122ZM10.0316 12.3895C10.0316 11.4866 9.82141 10.5962 9.41757 9.78869C9.06857 9.09061 8.86363 8.32949 8.81495 7.55058L8.69824 5.68327L8.58153 7.55058C8.53285 8.32949 8.3279 9.09061 7.97888 9.78869C7.57512 10.5962 7.36491 11.4866 7.36491 12.3895V28.3104C7.36491 29.2132 7.57512 30.1037 7.97888 30.9112C8.3279 31.6093 8.53285 32.3704 8.58153 33.1493L8.69824 35.0166L8.81495 33.1493C8.86363 32.3704 9.06857 31.6093 9.41757 30.9112C9.82141 30.1037 10.0316 29.2132 10.0316 28.3104V12.3895ZM6.08427 15.1219C6.48803 15.9295 6.69824 16.8199 6.69824 17.7229V22.977C6.69824 23.8799 6.48803 24.7704 6.08427 25.5779C5.73525 26.2759 5.5303 27.037 5.48162 27.8159L5.36491 29.6833L5.2482 27.8159C5.19952 27.037 4.99457 26.2759 4.64555 25.5779C4.24178 24.7704 4.03158 23.8799 4.03158 22.977V17.7229C4.03158 16.8199 4.24178 15.9295 4.64555 15.1219C4.99457 14.4239 5.19952 13.6628 5.2482 12.8839L5.36491 11.0166L5.48162 12.8839C5.5303 13.6628 5.73525 14.4239 6.08427 15.1219Z"
                fill="currentColor"
            />
        </svg>
    );
}
